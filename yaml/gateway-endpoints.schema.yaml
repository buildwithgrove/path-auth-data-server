type: object
properties:
  endpoints:
    type: object
    additionalProperties:
      type: object
      properties:
        endpoint_id:
          type: string
          description: "The unique identifier for a gateway endpoint."
        auth:
          type: object
          properties:
            auth_type:
              type: string
              enum: ["API_KEY_AUTH", "JWT_AUTH"]
              description: "The type of authorization being used."
            api_key:
              type: string
              description: "The API key string. (Required for API Key Authorization.)"
            jwt_authorized_users:
              type: array
              items:
                type: string
              description: "An array of user IDs authorized to access this account's gateway endpoints. (Required for JWT Authorization.)"
          oneOf:
            - properties:
                auth_type:
                  enum: ["API_KEY_AUTH"]
                api_key:
                  type: string
              required: ["api_key"]
            - properties:
                auth_type:
                  enum: ["JWT_AUTH"]
                jwt_authorized_users:
                  type: array
                  items:
                    type: string
              required: ["jwt_authorized_users"]
          required:
            - auth_type
        rate_limiting:
          type: object
          properties:
            throughput_limit:
              type: integer
              description: "Throughput limit defines the endpoint's per-second (TPS) rate limit."
            capacity_limit:
              type: integer
              description: "Capacity limit defines the endpoint's rate limit over longer periods."
            capacity_limit_period:
              type: string
              enum: [
                "CAPACITY_LIMIT_PERIOD_DAILY",
                "CAPACITY_LIMIT_PERIOD_WEEKLY",
                "CAPACITY_LIMIT_PERIOD_MONTHLY"
              ]
              description: "The period over which the capacity limit is enforced."
        metadata:
          type: object
          additionalProperties:
            type: string
            description: "A map of string key-value pairs for metadata."
    required:
      - endpoint_id
  required:
    - endpoints

