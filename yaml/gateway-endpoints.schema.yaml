type: object
description: "The gateway endpoints YAML file defines the set of gateway endpoints available to a PATH deployment."
properties:
  endpoints:
    type: object
    description: "The key for each gateway endpoint is its unique ID and must not be empty."
    additionalProperties:
      type: object
      properties:
        auth:
          type: object
          description: "The authorization configuration for a gateway endpoint. If omitted, the endpoint will not require any authorization."
          properties:
            auth_type:
              type: string
              enum: ["API_KEY_AUTH", "JWT_AUTH"]
              description: "The type of authorization being used."
            api_key:
              type: string
              description: "The API key string. (Required for API Key authorization.)"
            jwt_authorized_users:
              type: array
              items:
                type: string
              description: "An array of user IDs authorized to access this account's gateway endpoints. (Required for JWT authorization.)"
          oneOf:
            - type: object
              properties:
                auth_type:
                  enum: ["API_KEY_AUTH"]
                api_key:
                  type: string
              required:
                - auth_type
                - api_key
            - type: object
              properties:
                auth_type:
                  enum: ["JWT_AUTH"]
                jwt_authorized_users:
                  type: array
                  items:
                    type: string
              required:
                - auth_type
                - jwt_authorized_users
        rate_limiting:
          type: object
          description: "The rate limiting configuration for a gateway endpoint. May be omitted for endpoints with no rate limiting."
          properties:
            throughput_limit:
              type: integer
              description: "Throughput limit defines the endpoint's per-second (TPS) rate limit."
            capacity_limit:
              type: integer
              description: "Capacity limit defines the endpoint's rate limit over longer periods."
            capacity_limit_period:
              type: string
              enum: [
                "CAPACITY_LIMIT_PERIOD_DAILY",
                "CAPACITY_LIMIT_PERIOD_WEEKLY",
                "CAPACITY_LIMIT_PERIOD_MONTHLY"
              ]
              description: "The period over which the capacity limit is enforced."
        metadata:
          type: object
          description: "The optional metadata fields for a gateway endpoint. May be any key-value pairs."
          additionalProperties:
            type: string
            description: "A map of string key-value pairs for metadata."
      additionalProperties: false
required:
  - endpoints
additionalProperties: false
